(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d246cb3"],{"083b":function(t,e,r){"use strict";var n=r("c41b"),o=r.n(n);o.a},a909:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"orderlist"},[r("van-nav-bar",{staticClass:"cartnav",attrs:{title:"订单列表","left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft}}),r("div",{staticClass:"section"},[r("ul",t._l(t.products,function(e,n){return r("li",{key:n,staticClass:"orderCard"},[r("van-card",{attrs:{num:e[0].quantity,price:e[0].price*e[0].quantity,desc:e[0].product.descriptions,title:e[0].product.name,thumb:t._f("setImgUrl")(e[0].product.coverImg)}},[r("div",{attrs:{slot:"footer"},slot:"footer"},[r("van-button",{attrs:{size:"mini"},on:{click:function(r){return t.xiangqing(e[0].order)}}},[t._v("查看详情")]),r("van-button",{attrs:{size:"mini"},on:{click:function(r){return t.delOrder(e[0].order)}}},[t._v("删除订单")])],1)])],1)}),0)])],1)},o=[],a=(r("96cf"),r("3b8d")),i=(r("ac6a"),r("8382")),c={name:"OrderList",data:function(){return{orders:[],id:"",products:[],no:""}},computed:{getTotalPrice:function(){var t=0;return this.products.forEach(function(e){t+=e.price*e.quantity}),100*t}},filters:{setImgUrl:function(t){if(t)return"https://api.cat-shop.penkuoer.com"+t}},created:function(){this.getOrderList()},methods:{getOrderList:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["b"])("/api/v1/orders",{headers:{authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then(function(t){console.log(t.data),e.orders=t.data.orders,e.orders.forEach(function(t){e.getOrderById(t._id)})});case 2:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}(),dizhi:function(){this.$router.push({name:"address"})},sorry:function(){this.showBase=!0},getOrderById:function(t){var e=this;Object(i["b"])("/api/v1/orders/"+t,{headers:{authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then(function(t){e.products.push(t.data.details),console.log(e.products)})},onClickLeft:function(){this.$router.go(-1)},delOrder:function(t){var e=this;Object(i["a"])("/api/v1/orders/"+t,{headers:{authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then(function(t){console.log(t),e.$toast({message:"删除成功"})})},xiangqing:function(t){this.$router.push({name:"OrderList"})}}},s=c,u=(r("083b"),r("2877")),d=Object(u["a"])(s,n,o,!1,null,"7f69eede",null);e["default"]=d.exports},c41b:function(t,e,r){}}]);
//# sourceMappingURL=chunk-1d246cb3.5cdda549.js.map