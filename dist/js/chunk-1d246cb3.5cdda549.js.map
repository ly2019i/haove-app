{"version":3,"sources":["webpack:///./src/views/data/dindgan.vue?8ac0","webpack:///./src/views/data/dindgan.vue?c4a1","webpack:///src/views/data/dindgan.vue","webpack:///./src/views/data/dindgan.vue?45f4","webpack:///./src/views/data/dindgan.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_dindgan_vue_vue_type_style_index_0_id_7f69eede_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_dindgan_vue_vue_type_style_index_0_id_7f69eede_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","title","left-text","left-arrow","on","click-left","onClickLeft","_l","p","i","key","num","quantity","price","desc","product","descriptions","name","thumb","_f","coverImg","slot","size","click","$event","xiangqing","order","_v","delOrder","staticRenderFns","dindganvue_type_script_lang_js_","data","orders","id","products","no","computed","getTotalPrice","sumPrice","forEach","item","filters","setImgUrl","url","created","getOrderList","methods","_getOrderList","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","_this","wrap","_context","prev","next","requets","headers","authorization","concat","localStorage","getItem","then","res","console","log","getOrderById","_id","stop","apply","arguments","dizhi","$router","push","sorry","showBase","_this2","details","go","_this3","$toast","message","data_dindganvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-1d246cb3.5cdda549.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dindgan.vue?vue&type=style&index=0&id=7f69eede&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dindgan.vue?vue&type=style&index=0&id=7f69eede&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"orderlist\"},[_c('van-nav-bar',{staticClass:\"cartnav\",attrs:{\"title\":\"订单列表\",\"left-text\":\"返回\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.onClickLeft}}),_c('div',{staticClass:\"section\"},[_c('ul',_vm._l((_vm.products),function(p,i){return _c('li',{key:i,staticClass:\"orderCard\"},[_c('van-card',{attrs:{\"num\":p[0].quantity,\"price\":p[0].price*p[0].quantity,\"desc\":p[0].product.descriptions,\"title\":p[0].product.name,\"thumb\":_vm._f(\"setImgUrl\")(p[0].product.coverImg)}},[_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('van-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.xiangqing(p[0].order)}}},[_vm._v(\"查看详情\")]),_c('van-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.delOrder(p[0].order)}}},[_vm._v(\"删除订单\")])],1)])],1)}),0)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"orderlist\">\n    <van-nav-bar class=\"cartnav\" title=\"订单列表\" left-text=\"返回\" left-arrow @click-left=\"onClickLeft\"/>\n    <div class=\"section\">\n      <ul>\n        <li class=\"orderCard\" v-for=\"(p,i) in products\" :key=\"i\">\n          <van-card\n            :num=\"p[0].quantity\"\n            :price=\"p[0].price*p[0].quantity\"\n            :desc=\"p[0].product.descriptions\"\n            :title=\"p[0].product.name\"\n            :thumb=\"p[0].product.coverImg | setImgUrl\"\n          >\n            <div slot=\"footer\">\n              <van-button size=\"mini\" @click=\"xiangqing(p[0].order)\">查看详情</van-button>\n              <van-button size=\"mini\" @click=\"delOrder(p[0].order)\">删除订单</van-button>\n            </div>\n          </van-card>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n<script>\nimport { get, del } from '../../untile/requets'\nexport default {\n  name: 'OrderList',\n  data() {\n    return {\n      orders: [],\n      id: '',\n      products: [],\n      no: '',\n    }\n  },\n  computed: {\n    getTotalPrice() {\n      var sumPrice = 0\n      this.products.forEach(item => {\n        sumPrice += item.price * item.quantity\n      })\n      return sumPrice * 100\n    },\n  },\n  filters: {\n    setImgUrl(url) {\n      if (url) {\n        return 'https://api.cat-shop.penkuoer.com' + url\n      }\n    },\n  },\n  created() {\n    this.getOrderList()\n  },\n  methods: {\n    async getOrderList() {\n      await get('/api/v1/orders', {\n        headers: {\n          authorization: `Bearer ${localStorage.getItem('token')}`,\n        },\n      }).then(res => {\n        console.log(res.data)\n        this.orders = res.data.orders\n        this.orders.forEach(item => {\n          this.getOrderById(item._id)\n        })\n      })\n    },\n    dizhi() {\n      this.$router.push({\n        name: 'address',\n      })\n    },\n    sorry() {\n      this.showBase = true\n    },\n    getOrderById(id) {\n      get('/api/v1/orders/' + id, {\n        headers: {\n          authorization: `Bearer ${localStorage.getItem('token')}`,\n        },\n      }).then(res => {\n        this.products.push(res.data.details)\n        console.log(this.products)\n      })\n    },\n    onClickLeft() {\n      this.$router.go(-1)\n    },\n    delOrder(id) {\n      del('/api/v1/orders/' + id, {\n        headers: {\n          authorization: `Bearer ${localStorage.getItem('token')}`,\n        },\n      }).then(res => {\n        console.log(res)\n        this.$toast({\n          message: '删除成功',\n        })\n      })\n    },\n    xiangqing(id) {\n      this.$router.push({\n        name: 'OrderList',\n      })\n    },\n  },\n}\n</script>\n<style scoped>\n.address {\n  width: 100%;\n  height: 70px;\n  background: #fffae7;\n  position: relative;\n  padding: 0 10px;\n}\n.address p {\n  display: inline-block;\n  line-height: 35px;\n  margin-left: 10px;\n}\n.address-right {\n  font-size: 20px;\n  position: absolute;\n  top: 25px;\n  right: 30px;\n}\n.zhifu {\n  width: 100%;\n  height: 45px;\n  line-height: 45px;\n  padding: 0 10px;\n}\n.zhifu span {\n  float: right;\n}\n.orderCard {\n  margin-top: 10px;\n}\n.section {\n  overflow: auto;\n  height: 570px;\n}\n.liuyan {\n  width: 100%;\n  height: 100%;\n  line-height: 100%;\n  outline: none;\n  border: none;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dindgan.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dindgan.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./dindgan.vue?vue&type=template&id=7f69eede&scoped=true&\"\nimport script from \"./dindgan.vue?vue&type=script&lang=js&\"\nexport * from \"./dindgan.vue?vue&type=script&lang=js&\"\nimport style0 from \"./dindgan.vue?vue&type=style&index=0&id=7f69eede&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7f69eede\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}